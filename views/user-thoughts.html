<html data-theme="{{theme}}">

<head>
  {{template "includes.html"}}

  {{with thoughts.CurrentProfile}}
  <title>{{.Handle}}'s Thoughts | The Skyscape</title>
  <meta name="description" content="Read thoughts and articles by {{.Handle}} on The Skyscape.">
  <meta name="keywords" content="{{.Handle}}, thoughts, articles, blog posts, developer writing">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.theskyscape.com/user/{{.Handle}}/thoughts">
  <meta property="og:title" content="{{.Handle}}'s Thoughts | The Skyscape">
  <meta property="og:description" content="Read thoughts and articles by {{.Handle}} on The Skyscape.">
  <meta property="og:image" content="https://www.theskyscape.com/public/background.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://www.theskyscape.com/user/{{.Handle}}/thoughts">
  <meta property="twitter:title" content="{{.Handle}}'s Thoughts | The Skyscape">
  <meta property="twitter:description" content="Read thoughts and articles by {{.Handle}} on The Skyscape.">
  <meta property="twitter:image" content="https://www.theskyscape.com/public/background.png">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.theskyscape.com/user/{{.Handle}}/thoughts">
  {{end}}
</head>

<body>
  {{template "layout/start"}}

  {{with $profile := thoughts.CurrentProfile}}
  {{$user := auth.CurrentUser}}
  {{$isOwner := and $user (eq $user.ID $profile.UserID)}}

  <div class="relative bg-[url('{{host}}/public/background.png')] bg-cover bg-center border-b-2 border-white/40 w-full">
    <div class="absolute inset-0 bg-black opacity-40"></div>
    <div class='flex flex-col gap-3 items-center px-4 py-18'>
      <h1 class="text-3xl md:text-4xl font-bold tracking-wide opacity-80">{{$profile.Handle}}'s Thoughts</h1>
      <span class="text-lg md:text-xl font-bold opacity-60 text-center">
        Articles and musings by @{{$profile.Handle}}
      </span>
      {{if $isOwner}}
      <a href="{{host}}/thoughts/new" class="btn btn-primary btn-sm mt-2" hx-boost="true">
        New Thought
      </a>
      {{end}}
    </div>
  </div>

  <div class="max-w-screen-xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full mx-auto relative z-20 px-7 py-12"
    hx-boost="true">
    {{if $isOwner}}
      {{range $profile.AllThoughts}}
      {{template "thought-card.html" .}}
      {{else}}
      <div class="w-full text-center py-12 col-span-full">
        <h2 class="text-2xl font-bold opacity-60 mb-4">No thoughts yet</h2>
        <a href="{{host}}/thoughts/new" class="btn btn-primary">Write your first thought</a>
      </div>
      {{end}}
    {{else}}
      {{range $profile.Thoughts}}
      {{template "thought-card.html" .}}
      {{else}}
      <div class="w-full text-center py-12 col-span-full">
        <h2 class="text-2xl font-bold opacity-60 mb-4">No thoughts yet</h2>
      </div>
      {{end}}
    {{end}}
  </div>
  {{end}}

  {{template "layout/end"}}
</body>

</html>
