<html data-theme="{{theme}}">

<head>
  {{template "includes.html"}}

</head>

<body>
  {{template "layout/start"}}

  <div class="max-w-screen-xl flex flex-col gap-6 w-full mx-auto px-4 py-8 md:py-12 z-20">
    {{with apps.CurrentApp}}
    <div class="flex flex-col gap-8">
      <h1 class="text-2xl font-semibold">
        {{.Name}}
      </h1>

      <p class="text-lg font-semibold opacity-60 tracking-wide">
        {{.Description}}
      </p>
    </div>

    <span class="text-lg text-error">{{.Error}}</span>

    <div class="card bg-base-100 shadow-lg">
      <div class="card-body">
        <button class="btn btn-sm btn-primary" hx-post="{{host}}/app/{{.ID}}/launch">
          Launch
        </button>

        <ul class="menu">
          {{range .Images}}
          <li>
            <a>
              {{.GitHash}} - {{.Status}}
              {{with .Error}}
              <span class="text-error">- {{.}}</span>
              {{end}}
            </a>
          </li>
          {{end}}
        </ul>
      </div>
    </div>
    {{else}}
    <h1 class="text-2xl font-semibold">
      App not found
    </h1>
    {{end}}
  </div>

  {{template "layout/end"}}
</body>

</html>