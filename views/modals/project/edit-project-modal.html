<dialog id="edit_project_modal" class="modal">
  <div class="modal-box">
    <div class="error-message text-center text-error mb-4" role="alert" aria-live="polite"></div>

    {{with projects.CurrentProject}}
    <form hx-post="{{host}}/project/{{.ID}}/edit" hx-target="previous .error-message" hx-swap="innerHTML" class="flex flex-col gap-4">

      {{with $user := auth.CurrentUser}}
      {{if $user.IsAdmin}}
      <label class="floating-label">
        <input required name="id" type="text" class="input w-full" placeholder="ID" value="{{$.ID}}">
        <span>ID (Admin Only)</span>
      </label>
      {{end}}
      {{end}}

      <label class="floating-label">
        <input required name="name" type="text" class="input w-full" placeholder="Name" value="{{.Name}}">
        <span>Name</span>
      </label>

      <label class="floating-label">
        <textarea required name="description" class="textarea w-full" rows="4" placeholder="Description">{{.Description}}</textarea>
        <span>Description</span>
      </label>

      <div class="mt-4">
        <button type="submit" class="btn btn-primary btn-block">
          Save
        </button>
      </div>
    </form>
    {{end}}
  </div>
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>
