<dialog id="migrate_modal" class="modal modal-open">
  <div class="modal-box">
    <h3 class="text-lg font-bold mb-2">ID Conflict</h3>

    <div class="alert alert-warning mb-4">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
      </svg>
      <span>{{.Error}}</span>
    </div>

    <p class="text-sm opacity-70 mb-4">
      Please choose an alternative project ID. This will be used for the URL (e.g., project-name.skysca.pe).
    </p>

    <form hx-post="{{host}}/app/{{.App.ID}}/migrate" hx-target="#migrate-container" hx-swap="innerHTML" class="flex flex-col gap-4">
      <label class="floating-label">
        <input required name="project_id" type="text" class="input w-full" placeholder="Project ID" value="{{.SuggestedID}}"
          pattern="[a-z0-9][a-z0-9-]*[a-z0-9]" minlength="3" maxlength="32"
          title="Lowercase letters, numbers, and hyphens only. Must start and end with a letter or number.">
        <span>Project ID</span>
      </label>
      <p class="text-xs opacity-60 -mt-2">Lowercase letters, numbers, and hyphens only (3-32 characters)</p>

      <div class="modal-action">
        <button type="button" class="btn btn-ghost" onclick="migrate_modal.close()">Cancel</button>
        <button type="submit" class="btn btn-info">Migrate with this ID</button>
      </div>
    </form>
  </div>
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>
